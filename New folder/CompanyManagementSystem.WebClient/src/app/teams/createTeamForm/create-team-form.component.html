<div class="container">
  <h2>Team Data</h2>
  <form [formGroup]="teamForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <input name="departmentId" type="hidden" formControlName="departmentId">
    </div>
    <div class="form-group">
      <label for="">Team name</label>
      <input type="text" #refName class="form-control" formControlName="name">
      <div *ngIf="teamForm.controls['name'].hasError('required')" class="alert alert-danger">
        Please enter a name!
      </div>
      <div *ngIf="teamForm.controls['name'].hasError('minlength')" class="alert alert-danger">
        Please enter atleast 3 characters!
      </div>
      <div *ngIf="teamForm.controls['name'].hasError('maxlength')" class="alert alert-danger">
        Name cannot exceed 20 characters!
      </div>
      <div formArrayName="employees" class="well well-lg">
          <div *ngFor="let p of employees.controls; let i=index" [formGroupName]="i" >
            <!-- The repeated address template -->
            <h4>Employee #{{i + 1}}</h4>
            <div style="margin-left: 1em;">
              <div class="form-group">
                <select class="form-control" formControlName="id">
                  <option  *ngFor="let emp of allEmployees" [value]="emp.id">{{emp.firstName}} {{emp.lastName}}</option>
                </select>
              </div>
            </div>
            <br>
            <!-- End of the repeated address template -->
          </div>
          <button (click)="addPerson()" type="button">Add an Employee</button>
        </div>

      <!-- <select class="form-control" formControlName="employees">
          <option  *ngFor="let emp of employees" (click)="addPerson($event.target.value)">{{emp.name}}</option>
        </select>
        <ul>
            <li *ngFor= "let p of people"> {{p}} </li>
        </ul>

        <h2 class="category">Employee</h2>
        <ul></ul> -->
    </div>
    <button type="submit" [disabled]="!teamForm.valid" class="btn btn-primary">Submit</button>
  </form>
</div>
